<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çº¿æ€§ä»£æ•°è¯¾ä»¶ - çº¿æ€§æ–¹ç¨‹ç»„</title>
    
    <!-- MathJax for LaTeX Math Rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        :root {
            /* æµ…è‰²ä¸»é¢˜å˜é‡ */
            --primary-gradient-start: #667eea;
            --primary-gradient-end: #764ba2;
            --bg-gradient-start: #667eea;
            --bg-gradient-end: #764ba2;
            --main-bg: white;
            --text-color: #333;
            --text-color-light: #6c757d;
            --nav-bg: #f8f9fa;
            --nav-border: #e9ecef;
            --button-border: #667eea;
            --button-text: #667eea;
            --button-hover-bg: #667eea;
            --button-hover-text: white;
            --concept-gradient-start: #f5f7fa;
            --concept-gradient-end: #c3cfe2;
            --definition-bg: white;
            --definition-border: #667eea;
            --theorem-bg: #fffbf0;
            --theorem-border: #ffd700;
            --example-bg: #f0f8ff;
            --example-border: #4169e1;
            --formula-bg: #f8f9fa;
            --formula-border: #dee2e6;
            --graph-bg: white;
            --interactive-gradient-start: #e0c3fc;
            --interactive-gradient-end: #8ec5fc;
            --exercise-bg: #fff5f5;
            --exercise-border: #ff6b6b;
            --tip-bg: #d4edda;
            --tip-border: #c3e6cb;
            --animation-bg: #f8f9fa;
            --canvas-axes: #333;
            --shadow-color: rgba(0,0,0,0.3);
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-lighter: rgba(0,0,0,0.05);
        }

        [data-theme="dark"] {
            /* æ·±è‰²ä¸»é¢˜å˜é‡ */
            --primary-gradient-start: #8b9ef3;
            --primary-gradient-end: #9d6fc9;
            --bg-gradient-start: #1a1a2e;
            --bg-gradient-end: #0f0f1e;
            --main-bg: #1e1e2e;
            --text-color: #e0e0e0;
            --text-color-light: #a0a0a0;
            --nav-bg: #2a2a3e;
            --nav-border: #3a3a4e;
            --button-border: #8b9ef3;
            --button-text: #8b9ef3;
            --button-hover-bg: #8b9ef3;
            --button-hover-text: #1e1e2e;
            --concept-gradient-start: #2a2a3e;
            --concept-gradient-end: #323248;
            --definition-bg: #2a2a3e;
            --definition-border: #8b9ef3;
            --theorem-bg: #3a3a2e;
            --theorem-border: #ffd700;
            --example-bg: #2a2e3a;
            --example-border: #6189f1;
            --formula-bg: #2a2a3e;
            --formula-border: #3a3a4e;
            --graph-bg: #2a2a3e;
            --interactive-gradient-start: #3a2e4a;
            --interactive-gradient-end: #2e3a4a;
            --exercise-bg: #3a2a2a;
            --exercise-border: #ff8b8b;
            --tip-bg: #2a3a2e;
            --tip-border: #4a5a4e;
            --animation-bg: #2a2a3e;
            --canvas-axes: #e0e0e0;
            --shadow-color: rgba(0,0,0,0.5);
            --shadow-light: rgba(0,0,0,0.3);
            --shadow-lighter: rgba(0,0,0,0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--main-bg);
            border-radius: 20px;
            box-shadow: 0 20px 60px var(--shadow-color);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-gradient-start) 0%, var(--primary-gradient-end) 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* ä¸»é¢˜åˆ‡æ¢æŒ‰é’® */
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50px;
            padding: 10px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            color: white;
            font-size: 16px;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .theme-icon {
            font-size: 20px;
            transition: transform 0.3s;
        }

        .theme-toggle:hover .theme-icon {
            transform: rotate(20deg);
        }
        
        nav {
            background: var(--nav-bg);
            padding: 20px 40px;
            border-bottom: 2px solid var(--nav-border);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        nav button {
            padding: 10px 20px;
            background: var(--main-bg);
            border: 2px solid var(--button-border);
            border-radius: 25px;
            color: var(--button-text);
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        nav button:hover, nav button.active {
            background: var(--button-hover-bg);
            color: var(--button-hover-text);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.4);
        }
        
        main {
            padding: 40px;
        }
        
        .section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .concept-box {
            background: linear-gradient(135deg, var(--concept-gradient-start) 0%, var(--concept-gradient-end) 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 15px var(--shadow-light);
        }
        
        .concept-box h2 {
            color: var(--button-border);
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .definition {
            background: var(--definition-bg);
            border-left: 5px solid var(--definition-border);
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            box-shadow: 0 2px 10px var(--shadow-lighter);
        }
        
        .definition h3 {
            color: var(--definition-border);
            margin-bottom: 10px;
        }
        
        .theorem {
            background: var(--theorem-bg);
            border: 2px solid var(--theorem-border);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }
        
        .theorem::before {
            content: "å®šç†";
            position: absolute;
            top: -12px;
            left: 20px;
            background: var(--theorem-border);
            color: #333;
            padding: 2px 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .example {
            background: var(--example-bg);
            border: 2px solid var(--example-border);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }
        
        .example::before {
            content: "ä¾‹é¢˜";
            position: absolute;
            top: -12px;
            left: 20px;
            background: var(--example-border);
            color: white;
            padding: 2px 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .formula {
            background: var(--formula-bg);
            border: 1px solid var(--formula-border);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.2em;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;
            max-width: 100%;
        }

        /* çŸ©é˜µæ ·å¼ */
        .matrix-display {
            background: var(--formula-bg);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .matrix-item {
            text-align: center;
        }

        .matrix-label {
            font-weight: bold;
            color: var(--button-border);
            margin-bottom: 10px;
        }

        /* å‘é‡å¯è§†åŒ–å®¹å™¨ */
        .vector-visualization {
            background: var(--graph-bg);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px var(--shadow-light);
        }

        .vector-visualization h3 {
            color: var(--button-border);
            margin-bottom: 20px;
            text-align: center;
        }

        /* äº¤äº’å¼çŸ©é˜µè¾“å…¥ */
        .matrix-input-container {
            background: linear-gradient(135deg, var(--interactive-gradient-start) 0%, var(--interactive-gradient-end) 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
        }

        .matrix-input {
            display: grid;
            gap: 10px;
            margin: 20px 0;
        }

        .matrix-input input {
            padding: 10px;
            border: 2px solid var(--formula-border);
            border-radius: 5px;
            text-align: center;
            font-size: 1em;
            background: var(--main-bg);
            color: var(--text-color);
        }

        .matrix-input input:focus {
            outline: none;
            border-color: var(--button-border);
            box-shadow: 0 0 10px rgba(102,126,234,0.2);
        }

        /* æ­¥éª¤å±•ç¤º */
        .step-container {
            background: var(--main-bg);
            border: 2px solid var(--button-border);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .step-number {
            background: var(--button-border);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .step-title {
            color: var(--button-border);
            font-weight: bold;
            font-size: 1.1em;
        }

        /* æŒ‰é’®æ ·å¼ */
        .action-btn {
            padding: 12px 25px;
            background: var(--button-border);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            margin: 10px 5px;
        }

        .action-btn:hover {
            background: var(--primary-gradient-end);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.4);
        }

        /* ç»“æœæ˜¾ç¤º */
        .result-display {
            background: var(--tip-bg);
            border: 2px solid var(--tip-border);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .result-display.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* å‘é‡è¿ç®—å¯è§†åŒ– */
        .vector-operation {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .vector-box {
            background: var(--formula-bg);
            border: 2px solid var(--formula-border);
            border-radius: 10px;
            padding: 15px;
            min-width: 80px;
            text-align: center;
        }

        .operator {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--button-border);
        }

        canvas {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        
        .interactive-demo {
            background: linear-gradient(135deg, var(--interactive-gradient-start) 0%, var(--interactive-gradient-end) 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }
        
        .interactive-demo h3 {
            color: var(--text-color);
            margin-bottom: 20px;
        }
        
        .tip {
            background: var(--tip-bg);
            border: 1px solid var(--tip-border);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            display: flex;
            align-items: center;
        }
        
        .tip::before {
            content: "ğŸ’¡";
            font-size: 1.5em;
            margin-right: 10px;
        }

        /* ç»ƒä¹ é¢˜æ ·å¼ */
        .exercise {
            background: var(--exercise-bg);
            border: 2px solid var(--exercise-border);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .exercise h3 {
            color: var(--exercise-border);
            margin-bottom: 15px;
        }
        
        footer {
            background: var(--nav-bg);
            text-align: center;
            padding: 20px;
            border-top: 2px solid var(--nav-border);
            color: var(--text-color-light);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            main {
                padding: 20px;
            }
            
            nav {
                padding: 15px 20px;
            }
            
            nav button {
                font-size: 0.9em;
                padding: 8px 15px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 15px;
                font-size: 14px;
            }

            .matrix-display {
                flex-direction: column;
            }

            .vector-operation {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>çº¿æ€§ä»£æ•° - ç¬¬ä¸€ç« </h1>
            <div class="subtitle">çº¿æ€§æ–¹ç¨‹ç»„ä¸çŸ©é˜µåŸºç¡€</div>
            <button class="theme-toggle" onclick="toggleTheme()">
                <span class="theme-icon" id="themeIcon">ğŸŒ™</span>
                <span id="themeText">æ·±è‰²æ¨¡å¼</span>
            </button>
        </header>
        
        <nav>
            <button class="active" onclick="showSection('equations')">çº¿æ€§æ–¹ç¨‹ç»„</button>
            <button onclick="showSection('matrix')">çŸ©é˜µä¸è¡ŒåŒ–ç®€</button>
            <button onclick="showSection('vectors')">å‘é‡æ–¹ç¨‹</button>
            <button onclick="showSection('matrix-eq')">çŸ©é˜µæ–¹ç¨‹</button>
            <button onclick="showSection('linear-dep')">çº¿æ€§ç›¸å…³æ€§</button>
            <button onclick="showSection('practice')">ç»ƒä¹ ä¸åº”ç”¨</button>
        </nav>
        
        <main>
            <!-- çº¿æ€§æ–¹ç¨‹ç»„éƒ¨åˆ† -->
            <div class="section active" id="equations">
                <div class="concept-box">
                    <h2>ğŸ“š çº¿æ€§æ–¹ç¨‹ç»„åŸºç¡€</h2>
                    <p>çº¿æ€§æ–¹ç¨‹ç»„æ˜¯çº¿æ€§ä»£æ•°çš„æ ¸å¿ƒå†…å®¹ï¼Œå®ƒåœ¨å·¥ç¨‹ã€ç»æµã€ç‰©ç†ç­‰é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚æœ¬èŠ‚å°†ä»‹ç»çº¿æ€§æ–¹ç¨‹ç»„çš„åŸºæœ¬æ¦‚å¿µå’Œæ±‚è§£æ–¹æ³•ã€‚</p>
                </div>
                
                <div class="definition">
                    <h3>å®šä¹‰ 1.1ï¼šçº¿æ€§æ–¹ç¨‹</h3>
                    <p>åŒ…å«å˜é‡ \(x_1, x_2, \ldots, x_n\) çš„çº¿æ€§æ–¹ç¨‹æ˜¯å½¢å¦‚ï¼š</p>
                    <div class="formula">
                        \[ a_1x_1 + a_2x_2 + \cdots + a_nx_n = b \]
                    </div>
                    <p>å…¶ä¸­ \(a_1, a_2, \ldots, a_n\) å’Œ \(b\) å‡ä¸ºå®æ•°ï¼Œç§°ä¸ºç³»æ•°å’Œå¸¸æ•°é¡¹ã€‚</p>
                </div>
                
                <div class="example">
                    <h3>çº¿æ€§æ–¹ç¨‹ç»„çš„ä¸‰ç§è§£çš„æƒ…å†µ</h3>
                    <p>è€ƒè™‘äºŒå…ƒçº¿æ€§æ–¹ç¨‹ç»„ï¼ˆå‡ ä½•ä¸Šè¡¨ç¤ºä¸¤æ¡ç›´çº¿ï¼‰ï¼š</p>
                    
                    <div class="vector-visualization">
                        <canvas id="equationCanvas" width="600" height="300"></canvas>
                    </div>
                    
                    <div class="step-container">
                        <div class="step-header">
                            <div class="step-number">1</div>
                            <div class="step-title">å”¯ä¸€è§£</div>
                        </div>
                        <p>ä¸¤æ¡ç›´çº¿ç›¸äº¤äºä¸€ç‚¹</p>
                        <div class="formula">
                            \[ \begin{cases} x_1 - 2x_2 = -1 \\ -x_1 + 3x_2 = 3 \end{cases} \]
                        </div>
                    </div>
                    
                    <div class="step-container">
                        <div class="step-header">
                            <div class="step-number">2</div>
                            <div class="step-title">æ— ç©·å¤šè§£</div>
                        </div>
                        <p>ä¸¤æ¡ç›´çº¿é‡åˆ</p>
                        <div class="formula">
                            \[ \begin{cases} x_1 - 2x_2 = -1 \\ -x_1 + 2x_2 = 1 \end{cases} \]
                        </div>
                    </div>
                    
                    <div class="step-container">
                        <div class="step-header">
                            <div class="step-number">3</div>
                            <div class="step-title">æ— è§£</div>
                        </div>
                        <p>ä¸¤æ¡ç›´çº¿å¹³è¡Œ</p>
                        <div class="formula">
                            \[ \begin{cases} x_1 - 2x_2 = -1 \\ x_1 - 2x_2 = 3 \end{cases} \]
                        </div>
                    </div>
                </div>
                
                <div class="tip">
                    çº¿æ€§æ–¹ç¨‹ç»„çš„è§£æœ‰ä¸”ä»…æœ‰ä¸‰ç§æƒ…å†µï¼šæ— è§£ã€å”¯ä¸€è§£ã€æ— ç©·å¤šè§£ã€‚
                </div>
            </div>
            
            <!-- çŸ©é˜µä¸è¡ŒåŒ–ç®€éƒ¨åˆ† -->
            <div class="section" id="matrix">
                <div class="concept-box">
                    <h2>ğŸ”§ çŸ©é˜µä¸è¡ŒåŒ–ç®€</h2>
                    <p>çŸ©é˜µæ˜¯è¡¨ç¤ºå’Œæ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„çš„å¼ºæœ‰åŠ›å·¥å…·ã€‚é€šè¿‡çŸ©é˜µçš„è¡ŒåŒ–ç®€ï¼Œæˆ‘ä»¬å¯ä»¥ç³»ç»Ÿåœ°æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ã€‚</p>
                </div>
                
                <div class="definition">
                    <h3>çŸ©é˜µè¡¨ç¤ºæ³•</h3>
                    <p>çº¿æ€§æ–¹ç¨‹ç»„å¯ä»¥ç”¨çŸ©é˜µç®€æ´åœ°è¡¨ç¤ºï¼š</p>
                    <div class="matrix-display">
                        <div class="matrix-item">
                            <div class="matrix-label">çº¿æ€§æ–¹ç¨‹ç»„</div>
                            <div class="formula">
                                \[ \begin{cases} 
                                x + 2y = 3 \\ 
                                3x + 4y = 5 
                                \end{cases} \]
                            </div>
                        </div>
                        <div class="operator">â†’</div>
                        <div class="matrix-item">
                            <div class="matrix-label">ç³»æ•°çŸ©é˜µ</div>
                            <div class="formula">
                                \[ \begin{bmatrix} 1 & 2 \\ 3 & 4 \end{bmatrix} \]
                            </div>
                        </div>
                        <div class="operator">â†’</div>
                        <div class="matrix-item">
                            <div class="matrix-label">å¢å¹¿çŸ©é˜µ</div>
                            <div class="formula">
                                \[ \begin{bmatrix} 1 & 2 & 3 \\ 3 & 4 & 5 \end{bmatrix} \]
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="interactive-demo">
                    <h3>é«˜æ–¯æ¶ˆå…ƒæ³•æ¼”ç¤º</h3>
                    <p>é€šè¿‡åˆç­‰è¡Œå˜æ¢å°†çŸ©é˜µåŒ–ä¸ºè¡Œé˜¶æ¢¯å½¢</p>
                    
                    <div class="matrix-input-container">
                        <div id="gaussMatrix" class="matrix-display">
                            <div class="formula">
                                \[ \begin{bmatrix} 1 & 2 & 3 \\ 3 & 4 & 5 \end{bmatrix} \]
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="action-btn" onclick="stepGaussElimination()">ä¸‹ä¸€æ­¥</button>
                            <button class="action-btn" onclick="resetGaussElimination()">é‡ç½®</button>
                        </div>
                        <div id="gaussStep" class="step-title" style="margin-top: 20px;"></div>
                    </div>
                </div>
                
                <div class="theorem">
                    <h3>åˆç­‰è¡Œå˜æ¢</h3>
                    <p>ä¸‰ç§åŸºæœ¬çš„è¡Œå˜æ¢æ“ä½œï¼š</p>
                    <ol style="margin-left: 20px;">
                        <li><strong>å€åŠ å˜æ¢ï¼š</strong>æŠŠæŸä¸€è¡Œæ‰©å¤§kå€ï¼ˆkâ‰ 0ï¼‰ååŠ åˆ°å¦ä¸€è¡Œ</li>
                        <li><strong>å¯¹æ¢å˜æ¢ï¼š</strong>æŠŠä¸¤è¡Œäº’æ¢</li>
                        <li><strong>å€ä¹˜å˜æ¢ï¼š</strong>æŠŠæŸä¸€è¡Œçš„æ‰€æœ‰å…ƒç´ ä¹˜ä»¥åŒä¸€ä¸ªéé›¶æ•°k</li>
                    </ol>
                </div>
            </div>
            
            <!-- å‘é‡æ–¹ç¨‹éƒ¨åˆ† -->
            <div class="section" id="vectors">
                <div class="concept-box">
                    <h2>ğŸ“ å‘é‡æ–¹ç¨‹</h2>
                    <p>å‘é‡æ˜¯çº¿æ€§ä»£æ•°çš„åŸºæœ¬æ¦‚å¿µï¼Œå‘é‡æ–¹ç¨‹æä¾›äº†ç†è§£çº¿æ€§æ–¹ç¨‹ç»„çš„å‡ ä½•è§†è§’ã€‚</p>
                </div>
                
                <div class="definition">
                    <h3>nç»´å‘é‡</h3>
                    <p>nä¸ªæœ‰åºæ•° \(a_1, a_2, \ldots, a_n\) ç»„æˆçš„æ•°ç»„ç§°ä¸ºnç»´å‘é‡ï¼š</p>
                    <div class="vector-operation">
                        <div class="vector-box">
                            <div class="matrix-label">è¡Œå‘é‡</div>
                            \[ (a_1, a_2, \ldots, a_n) \]
                        </div>
                        <div class="vector-box">
                            <div class="matrix-label">åˆ—å‘é‡</div>
                            \[ \begin{bmatrix} a_1 \\ a_2 \\ \vdots \\ a_n \end{bmatrix} \]
                        </div>
                    </div>
                </div>
                
                <div class="interactive-demo">
                    <h3>å‘é‡è¿ç®—å¯è§†åŒ–</h3>
                    <div class="vector-visualization">
                        <canvas id="vectorCanvas" width="600" height="400"></canvas>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="action-btn" onclick="animateVectorAddition()">å‘é‡åŠ æ³•</button>
                        <button class="action-btn" onclick="animateScalarMultiplication()">æ•°ä¹˜</button>
                        <button class="action-btn" onclick="animateLinearCombination()">çº¿æ€§ç»„åˆ</button>
                    </div>
                </div>
                
                <div class="example">
                    <h3>å®é™…åº”ç”¨ï¼šé¢œè‰²æ··åˆ</h3>
                    <p>RGBé¢œè‰²æ¨¡å‹ä¸­ï¼Œé¢œè‰²å¯ä»¥è¡¨ç¤ºä¸ºä¸‰ç»´å‘é‡ï¼š</p>
                    <div class="vector-operation">
                        <div class="vector-box" style="background: rgb(255,0,0); color: white;">
                            çº¢è‰²<br>\[ \begin{bmatrix} 255 \\ 0 \\ 0 \end{bmatrix} \]
                        </div>
                        <div class="operator">+</div>
                        <div class="vector-box" style="background: rgb(0,255,0); color: black;">
                            ç»¿è‰²<br>\[ \begin{bmatrix} 0 \\ 255 \\ 0 \end{bmatrix} \]
                        </div>
                        <div class="operator">=</div>
                        <div class="vector-box" style="background: rgb(255,255,0); color: black;">
                            é»„è‰²<br>\[ \begin{bmatrix} 255 \\ 255 \\ 0 \end{bmatrix} \]
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- çŸ©é˜µæ–¹ç¨‹éƒ¨åˆ† -->
            <div class="section" id="matrix-eq">
                <div class="concept-box">
                    <h2>ğŸ“Š çŸ©é˜µæ–¹ç¨‹</h2>
                    <p>çŸ©é˜µæ–¹ç¨‹ Ax = b æä¾›äº†ç»Ÿä¸€çš„æ¡†æ¶æ¥ç†è§£å’Œæ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ã€‚</p>
                </div>
                
                <div class="theorem">
                    <h3>çŸ©é˜µä¹˜æ³•çš„å®šä¹‰</h3>
                    <p>è‹¥Aæ˜¯mÃ—nçŸ©é˜µï¼Œå…¶åˆ—ä¸º \(a_1, a_2, \ldots, a_n\)ï¼Œxä¸ºnç»´å‘é‡ï¼Œåˆ™ï¼š</p>
                    <div class="formula">
                        \[ Ax = x_1a_1 + x_2a_2 + \cdots + x_na_n \]
                    </div>
                    <p>å³ Ax æ˜¯ A çš„å„åˆ—ä»¥ x ä¸­å¯¹åº”å…ƒç´ ä¸ºæƒçš„çº¿æ€§ç»„åˆã€‚</p>
                </div>
                
                <div class="interactive-demo">
                    <h3>çŸ©é˜µä¹˜æ³•è®¡ç®—å™¨</h3>
                    <div class="matrix-input-container">
                        <p>è¾“å…¥ 2Ã—2 çŸ©é˜µ A å’Œå‘é‡ xï¼š</p>
                        <div style="display: flex; justify-content: center; gap: 20px; align-items: center;">
                            <div>
                                <div class="matrix-label">çŸ©é˜µ A</div>
                                <div class="matrix-input" style="grid-template-columns: repeat(2, 60px);">
                                    <input type="number" id="a11" value="1">
                                    <input type="number" id="a12" value="2">
                                    <input type="number" id="a21" value="3">
                                    <input type="number" id="a22" value="4">
                                </div>
                            </div>
                            <div class="operator">Ã—</div>
                            <div>
                                <div class="matrix-label">å‘é‡ x</div>
                                <div class="matrix-input" style="grid-template-columns: 60px;">
                                    <input type="number" id="x1" value="2">
                                    <input type="number" id="x2" value="1">
                                </div>
                            </div>
                            <div class="operator">=</div>
                            <div>
                                <div class="matrix-label">ç»“æœ</div>
                                <div id="matrixResult" class="formula">
                                    \[ \begin{bmatrix} ? \\ ? \end{bmatrix} \]
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="action-btn" onclick="calculateMatrixProduct()">è®¡ç®—</button>
                        </div>
                    </div>
                </div>
                
                <div class="tip">
                    æ–¹ç¨‹ Ax = b æœ‰è§£å½“ä¸”ä»…å½“ b æ˜¯ A çš„å„åˆ—çš„çº¿æ€§ç»„åˆã€‚
                </div>
            </div>
            
            <!-- çº¿æ€§ç›¸å…³æ€§éƒ¨åˆ† -->
            <div class="section" id="linear-dep">
                <div class="concept-box">
                    <h2>ğŸ”— çº¿æ€§ç›¸å…³ä¸çº¿æ€§æ— å…³</h2>
                    <p>çº¿æ€§ç›¸å…³æ€§æ˜¯ç†è§£å‘é‡ç»„ç»“æ„çš„å…³é”®æ¦‚å¿µã€‚</p>
                </div>
                
                <div class="definition">
                    <h3>çº¿æ€§ç›¸å…³çš„å®šä¹‰</h3>
                    <p>è®¾æœ‰nç»´å‘é‡ç»„ \(\alpha_1, \alpha_2, \ldots, \alpha_m\)ï¼Œå¦‚æœå­˜åœ¨ä¸å…¨ä¸ºé›¶çš„æ•° \(k_1, k_2, \ldots, k_m\)ï¼Œä½¿å¾—ï¼š</p>
                    <div class="formula">
                        \[ k_1\alpha_1 + k_2\alpha_2 + \cdots + k_m\alpha_m = 0 \]
                    </div>
                    <p>åˆ™ç§°å‘é‡ç»„çº¿æ€§ç›¸å…³ï¼›å¦åˆ™ç§°ä¸ºçº¿æ€§æ— å…³ã€‚</p>
                </div>
                
                <div class="theorem">
                    <h3>çº¿æ€§ç›¸å…³æ€§çš„å‡ ä½•æ„ä¹‰</h3>
                    <div class="step-container">
                        <div class="step-header">
                            <div class="step-number">2D</div>
                            <div class="step-title">å¹³é¢ä¸­çš„å‘é‡</div>
                        </div>
                        <p>ä¸¤ä¸ªå‘é‡çº¿æ€§ç›¸å…³ âŸº å®ƒä»¬å…±çº¿ï¼ˆå¹³è¡Œæˆ–åå‘ï¼‰</p>
                    </div>
                    <div class="step-container">
                        <div class="step-header">
                            <div class="step-number">3D</div>
                            <div class="step-title">ç©ºé—´ä¸­çš„å‘é‡</div>
                        </div>
                        <p>ä¸‰ä¸ªå‘é‡çº¿æ€§ç›¸å…³ âŸº å®ƒä»¬å…±é¢</p>
                    </div>
                </div>
                
                <div class="interactive-demo">
                    <h3>çº¿æ€§ç›¸å…³æ€§åˆ¤æ–­</h3>
                    <div class="vector-visualization">
                        <canvas id="linearDepCanvas" width="600" height="400"></canvas>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="action-btn" onclick="showLinearIndependent()">çº¿æ€§æ— å…³ç¤ºä¾‹</button>
                        <button class="action-btn" onclick="showLinearDependent()">çº¿æ€§ç›¸å…³ç¤ºä¾‹</button>
                    </div>
                </div>
            </div>
            
            <!-- ç»ƒä¹ ä¸åº”ç”¨éƒ¨åˆ† -->
            <div class="section" id="practice">
                <div class="concept-box">
                    <h2>âœï¸ ç»ƒä¹ ä¸åº”ç”¨</h2>
                    <p>é€šè¿‡ç»ƒä¹ å·©å›ºæ‰€å­¦æ¦‚å¿µï¼ŒåŠ æ·±ç†è§£ã€‚</p>
                </div>
                
                <div class="exercise">
                    <h3>ç»ƒä¹  1ï¼šæ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„</h3>
                    <p>ä½¿ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•æ±‚è§£ï¼š</p>
                    <div class="formula">
                        \[ \begin{cases}
                        x + 2y - z = 3 \\
                        2x - y + z = 1 \\
                        3x + y = 4
                        \end{cases} \]
                    </div>
                    <div class="matrix-input-container">
                        <button class="action-btn" onclick="toggleSolution('sol1')">æ˜¾ç¤ºè§£ç­”</button>
                        <div id="sol1" class="result-display">
                            <p><strong>æ­¥éª¤ 1ï¼š</strong>å†™å‡ºå¢å¹¿çŸ©é˜µ</p>
                            <div class="formula">
                                \[ \begin{bmatrix}
                                1 & 2 & -1 & 3 \\
                                2 & -1 & 1 & 1 \\
                                3 & 1 & 0 & 4
                                \end{bmatrix} \]
                            </div>
                            <p><strong>æ­¥éª¤ 2ï¼š</strong>è¡ŒåŒ–ç®€å¾—åˆ°è¡Œé˜¶æ¢¯å½¢</p>
                            <p><strong>è§£ï¼š</strong>\(x = 1, y = 1, z = 0\)</p>
                        </div>
                    </div>
                </div>
                
                <div class="exercise">
                    <h3>ç»ƒä¹  2ï¼šåˆ¤æ–­å‘é‡ç»„çš„çº¿æ€§ç›¸å…³æ€§</h3>
                    <p>åˆ¤æ–­ä¸‹åˆ—å‘é‡ç»„æ˜¯å¦çº¿æ€§ç›¸å…³ï¼š</p>
                    <div class="formula">
                        \[ v_1 = \begin{bmatrix} 1 \\ 2 \\ 3 \end{bmatrix}, \quad
                           v_2 = \begin{bmatrix} 2 \\ 4 \\ 6 \end{bmatrix}, \quad
                           v_3 = \begin{bmatrix} 1 \\ 1 \\ 1 \end{bmatrix} \]
                    </div>
                    <div class="matrix-input-container">
                        <button class="action-btn" onclick="toggleSolution('sol2')">æ˜¾ç¤ºè§£ç­”</button>
                        <div id="sol2" class="result-display">
                            <p><strong>åˆ†æï¼š</strong>æ³¨æ„åˆ° \(v_2 = 2v_1\)ï¼Œå› æ­¤ \(v_1\) å’Œ \(v_2\) çº¿æ€§ç›¸å…³ã€‚</p>
                            <p><strong>ç»“è®ºï¼š</strong>å‘é‡ç»„çº¿æ€§ç›¸å…³ï¼Œå› ä¸ºå…¶ä¸­åŒ…å«çº¿æ€§ç›¸å…³çš„éƒ¨åˆ†ç»„ã€‚</p>
                        </div>
                    </div>
                </div>
                
                <div class="exercise">
                    <h3>åº”ç”¨ï¼šç»æµæ¨¡å‹</h3>
                    <p>æŸå·¥å‚ç”Ÿäº§ä¸¤ç§äº§å“ï¼Œè®¾äº§å“Aç”Ÿäº§xå•ä½ï¼Œäº§å“Bç”Ÿäº§yå•ä½ã€‚å·²çŸ¥ï¼š</p>
                    <ul style="margin-left: 20px;">
                        <li>åŸæ–™é™åˆ¶ï¼š2x + 3y â‰¤ 100</li>
                        <li>äººå·¥é™åˆ¶ï¼š3x + 2y â‰¤ 90</li>
                        <li>è®¾å¤‡é™åˆ¶ï¼šx + y â‰¤ 35</li>
                    </ul>
                    <p>æ±‚æœ€ä¼˜ç”Ÿäº§æ–¹æ¡ˆï¼ˆä½¿ç”¨çº¿æ€§è§„åˆ’æ±‚è§£ï¼‰ã€‚</p>
                    <div class="vector-visualization">
                        <canvas id="lpCanvas" width="600" height="400"></canvas>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Â© 2025 çº¿æ€§ä»£æ•°äº¤äº’å¼è¯¾ä»¶ | åŸºäºç°ä»£WebæŠ€æœ¯æ„å»º</p>
            <p>å»ºè®®ä½¿ç”¨Chromeã€Firefoxæˆ–Edgeæµè§ˆå™¨è·å¾—æœ€ä½³ä½“éªŒ</p>
        </footer>
    </div>
    
    <script>
        // é…ç½® MathJax
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            options: {
                enableMenu: false
            },
            chtml: {
                displayAlign: 'left',
                displayIndent: '0',
                scale: 1,
                minScale: 0.5,
                maxScale: 2
            }
        };

        // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
        let currentTheme = 'light';

        function initTheme() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                currentTheme = 'dark';
            }
            applyTheme(currentTheme);
        }

        function applyTheme(theme) {
            currentTheme = theme;
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (theme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeIcon.textContent = 'â˜€ï¸';
                themeText.textContent = 'æµ…è‰²æ¨¡å¼';
            } else {
                document.documentElement.removeAttribute('data-theme');
                themeIcon.textContent = 'ğŸŒ™';
                themeText.textContent = 'æ·±è‰²æ¨¡å¼';
            }
            
            // é‡æ–°ç»˜åˆ¶æ‰€æœ‰canvas
            drawEquationGraphs();
            drawVectorCanvas();
            drawLinearDepCanvas();
            drawLPCanvas();
        }

        function toggleTheme() {
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            applyTheme(newTheme);
        }

        // åˆ‡æ¢æ˜¾ç¤ºä¸åŒç« èŠ‚
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            
            const buttons = document.querySelectorAll('nav button');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // é‡æ–°æ¸²æŸ“æ•°å­¦å…¬å¼
            if (window.MathJax) {
                window.MathJax.typeset();
            }
            
            // åˆå§‹åŒ–è¯¥ç« èŠ‚çš„å¯è§†åŒ–
            if (sectionId === 'equations') {
                drawEquationGraphs();
            } else if (sectionId === 'vectors') {
                drawVectorCanvas();
            } else if (sectionId === 'linear-dep') {
                drawLinearDepCanvas();
            } else if (sectionId === 'practice') {
                drawLPCanvas();
            }
        }

        // é«˜æ–¯æ¶ˆå…ƒæ³•æ¼”ç¤º
        let gaussStep = 0;
        const gaussSteps = [
            { matrix: '\\begin{bmatrix} 1 & 2 & 3 \\\\ 3 & 4 & 5 \\end{bmatrix}', desc: 'åˆå§‹å¢å¹¿çŸ©é˜µ' },
            { matrix: '\\begin{bmatrix} 1 & 2 & 3 \\\\ 0 & -2 & -4 \\end{bmatrix}', desc: 'Râ‚‚ - 3Râ‚ â†’ Râ‚‚' },
            { matrix: '\\begin{bmatrix} 1 & 2 & 3 \\\\ 0 & 1 & 2 \\end{bmatrix}', desc: 'Râ‚‚ Ã· (-2) â†’ Râ‚‚' },
            { matrix: '\\begin{bmatrix} 1 & 0 & -1 \\\\ 0 & 1 & 2 \\end{bmatrix}', desc: 'Râ‚ - 2Râ‚‚ â†’ Râ‚' }
        ];

        function stepGaussElimination() {
            gaussStep = (gaussStep + 1) % gaussSteps.length;
            updateGaussDisplay();
        }

        function resetGaussElimination() {
            gaussStep = 0;
            updateGaussDisplay();
        }

        function updateGaussDisplay() {
            const step = gaussSteps[gaussStep];
            document.getElementById('gaussMatrix').innerHTML = `
                <div class="formula">\\[ ${step.matrix} \\]</div>
            `;
            document.getElementById('gaussStep').textContent = step.desc;
            
            if (window.MathJax) {
                window.MathJax.typeset();
            }
        }

        // çŸ©é˜µä¹˜æ³•è®¡ç®—
        function calculateMatrixProduct() {
            const a11 = parseFloat(document.getElementById('a11').value) || 0;
            const a12 = parseFloat(document.getElementById('a12').value) || 0;
            const a21 = parseFloat(document.getElementById('a21').value) || 0;
            const a22 = parseFloat(document.getElementById('a22').value) || 0;
            const x1 = parseFloat(document.getElementById('x1').value) || 0;
            const x2 = parseFloat(document.getElementById('x2').value) || 0;
            
            const result1 = a11 * x1 + a12 * x2;
            const result2 = a21 * x1 + a22 * x2;
            
            document.getElementById('matrixResult').innerHTML = `
                \\[ \\begin{bmatrix} ${result1} \\\\ ${result2} \\end{bmatrix} \\]
            `;
            
            if (window.MathJax) {
                window.MathJax.typeset();
            }
        }

        // æ˜¾ç¤º/éšè—è§£ç­”
        function toggleSolution(solutionId) {
            const solution = document.getElementById(solutionId);
            solution.classList.toggle('show');
        }

        // ç»˜åˆ¶çº¿æ€§æ–¹ç¨‹ç»„å›¾å½¢
        function drawEquationGraphs() {
            const canvas = document.getElementById('equationCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            // ç»˜åˆ¶ä¸‰ä¸ªå­å›¾ï¼ˆå”¯ä¸€è§£ã€æ— ç©·å¤šè§£ã€æ— è§£ï¼‰
            const subWidth = width / 3;
            
            // è·å–ä¸»é¢˜é¢œè‰²
            const isDark = currentTheme === 'dark';
            const axesColor = isDark ? '#e0e0e0' : '#333';
            const lineColor1 = '#667eea';
            const lineColor2 = '#ff6b6b';
            
            // ç»˜åˆ¶æ¯ä¸ªå­å›¾
            for (let i = 0; i < 3; i++) {
                const centerX = subWidth * i + subWidth / 2;
                const centerY = height / 2;
                
                // ç»˜åˆ¶åæ ‡è½´
                ctx.strokeStyle = axesColor;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(centerX - 80, centerY);
                ctx.lineTo(centerX + 80, centerY);
                ctx.moveTo(centerX, centerY - 80);
                ctx.lineTo(centerX, centerY + 80);
                ctx.stroke();
                
                // ç»˜åˆ¶ç›´çº¿
                ctx.lineWidth = 2;
                
                if (i === 0) {
                    // å”¯ä¸€è§£ï¼šä¸¤æ¡ç›¸äº¤ç›´çº¿
                    ctx.strokeStyle = lineColor1;
                    ctx.beginPath();
                    ctx.moveTo(centerX - 80, centerY + 40);
                    ctx.lineTo(centerX + 80, centerY - 40);
                    ctx.stroke();
                    
                    ctx.strokeStyle = lineColor2;
                    ctx.beginPath();
                    ctx.moveTo(centerX - 80, centerY - 60);
                    ctx.lineTo(centerX + 80, centerY + 20);
                    ctx.stroke();
                    
                    // æ ‡è®°äº¤ç‚¹
                    ctx.fillStyle = '#28a745';
                    ctx.beginPath();
                    ctx.arc(centerX + 20, centerY - 10, 5, 0, Math.PI * 2);
                    ctx.fill();
                } else if (i === 1) {
                    // æ— ç©·å¤šè§£ï¼šä¸¤æ¡é‡åˆç›´çº¿
                    ctx.strokeStyle = lineColor1;
                    ctx.beginPath();
                    ctx.moveTo(centerX - 80, centerY + 40);
                    ctx.lineTo(centerX + 80, centerY - 40);
                    ctx.stroke();
                    
                    ctx.strokeStyle = lineColor2;
                    ctx.setLineDash([5, 5]);
                    ctx.beginPath();
                    ctx.moveTo(centerX - 80, centerY + 40);
                    ctx.lineTo(centerX + 80, centerY - 40);
                    ctx.stroke();
                    ctx.setLineDash([]);
                } else {
                    // æ— è§£ï¼šä¸¤æ¡å¹³è¡Œç›´çº¿
                    ctx.strokeStyle = lineColor1;
                    ctx.beginPath();
                    ctx.moveTo(centerX - 80, centerY + 20);
                    ctx.lineTo(centerX + 80, centerY + 20);
                    ctx.stroke();
                    
                    ctx.strokeStyle = lineColor2;
                    ctx.beginPath();
                    ctx.moveTo(centerX - 80, centerY - 20);
                    ctx.lineTo(centerX + 80, centerY - 20);
                    ctx.stroke();
                }
                
                // æ·»åŠ æ ‡ç­¾
                ctx.fillStyle = axesColor;
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                const labels = ['å”¯ä¸€è§£', 'æ— ç©·å¤šè§£', 'æ— è§£'];
                ctx.fillText(labels[i], centerX, height - 20);
            }
        }

        // ç»˜åˆ¶å‘é‡ç”»å¸ƒ
        function drawVectorCanvas() {
            const canvas = document.getElementById('vectorCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const centerX = width / 2;
            const centerY = height / 2;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            // è·å–ä¸»é¢˜é¢œè‰²
            const isDark = currentTheme === 'dark';
            const axesColor = isDark ? '#e0e0e0' : '#333';
            
            // ç»˜åˆ¶åæ ‡ç³»
            ctx.strokeStyle = axesColor;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, centerY);
            ctx.lineTo(width - 50, centerY);
            ctx.moveTo(centerX, 50);
            ctx.lineTo(centerX, height - 50);
            ctx.stroke();
            
            // ç»˜åˆ¶ç®­å¤´
            ctx.beginPath();
            ctx.moveTo(width - 50, centerY);
            ctx.lineTo(width - 60, centerY - 5);
            ctx.lineTo(width - 60, centerY + 5);
            ctx.closePath();
            ctx.fill();
            
            ctx.beginPath();
            ctx.moveTo(centerX, 50);
            ctx.lineTo(centerX - 5, 60);
            ctx.lineTo(centerX + 5, 60);
            ctx.closePath();
            ctx.fill();
            
            // ç»˜åˆ¶ä¸¤ä¸ªç¤ºä¾‹å‘é‡
            drawVector(ctx, centerX, centerY, 100, -60, '#667eea', 'vâ‚');
            drawVector(ctx, centerX, centerY, 80, 100, '#ff6b6b', 'vâ‚‚');
        }

        function drawVector(ctx, startX, startY, dx, dy, color, label) {
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 3;
            
            // ç»˜åˆ¶å‘é‡çº¿
            ctx.beginPath();
            ctx.moveTo(startX, startY);
            ctx.lineTo(startX + dx, startY + dy);
            ctx.stroke();
            
            // ç»˜åˆ¶ç®­å¤´
            const angle = Math.atan2(dy, dx);
            const arrowLength = 10;
            ctx.beginPath();
            ctx.moveTo(startX + dx, startY + dy);
            ctx.lineTo(
                startX + dx - arrowLength * Math.cos(angle - Math.PI / 6),
                startY + dy - arrowLength * Math.sin(angle - Math.PI / 6)
            );
            ctx.lineTo(
                startX + dx - arrowLength * Math.cos(angle + Math.PI / 6),
                startY + dy - arrowLength * Math.sin(angle + Math.PI / 6)
            );
            ctx.closePath();
            ctx.fill();
            
            // æ·»åŠ æ ‡ç­¾
            ctx.font = '16px Arial';
            ctx.fillText(label, startX + dx + 10, startY + dy);
        }

        // å‘é‡åŠ¨ç”»
        function animateVectorAddition() {
            const canvas = document.getElementById('vectorCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let t = 0;
            
            function animate() {
                if (t <= 1) {
                    drawVectorCanvas();
                    
                    // åŠ¨ç”»æ˜¾ç¤ºå‘é‡å’Œ
                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2;
                    
                    ctx.strokeStyle = '#28a745';
                    ctx.setLineDash([5, 5]);
                    ctx.lineWidth = 2;
                    
                    // v1å¹³ç§»åˆ°v2æœ«ç«¯
                    ctx.beginPath();
                    ctx.moveTo(centerX + 80 * t, centerY + 100 * t);
                    ctx.lineTo(centerX + 80 * t + 100, centerY + 100 * t - 60);
                    ctx.stroke();
                    
                    // ç»“æœå‘é‡
                    if (t > 0.5) {
                        drawVector(ctx, centerX, centerY, 180, 40, '#28a745', 'vâ‚ + vâ‚‚');
                    }
                    
                    ctx.setLineDash([]);
                    
                    t += 0.02;
                    requestAnimationFrame(animate);
                }
            }
            animate();
        }

        function animateScalarMultiplication() {
            const canvas = document.getElementById('vectorCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let scale = 1;
            let growing = true;
            
            function animate() {
                drawVectorCanvas();
                
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                
                // æ˜¾ç¤ºç¼©æ”¾çš„å‘é‡
                drawVector(ctx, centerX, centerY, 100 * scale, -60 * scale, '#9d6fc9', `${scale.toFixed(1)}vâ‚`);
                
                if (growing) {
                    scale += 0.02;
                    if (scale >= 2) growing = false;
                } else {
                    scale -= 0.02;
                    if (scale <= 0.5) return;
                }
                
                requestAnimationFrame(animate);
            }
            animate();
        }

        function animateLinearCombination() {
            const canvas = document.getElementById('vectorCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let t = 0;
            
            function animate() {
                if (t <= 1) {
                    drawVectorCanvas();
                    
                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2;
                    
                    // æ˜¾ç¤ºçº¿æ€§ç»„åˆ 2vâ‚ - 0.5vâ‚‚
                    const a = 2 * t;
                    const b = -0.5 * t;
                    
                    drawVector(ctx, centerX, centerY, 100 * a, -60 * a, '#667eea88', `${a.toFixed(1)}vâ‚`);
                    drawVector(ctx, centerX, centerY, 80 * b, 100 * b, '#ff6b6b88', `${b.toFixed(1)}vâ‚‚`);
                    
                    // ç»“æœå‘é‡
                    drawVector(ctx, centerX, centerY, 100 * a + 80 * b, -60 * a + 100 * b, '#28a745', 'çº¿æ€§ç»„åˆ');
                    
                    t += 0.02;
                    requestAnimationFrame(animate);
                }
            }
            animate();
        }

        // ç»˜åˆ¶çº¿æ€§ç›¸å…³æ€§æ¼”ç¤º
        function drawLinearDepCanvas() {
            const canvas = document.getElementById('linearDepCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const centerX = width / 2;
            const centerY = height / 2;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            // è·å–ä¸»é¢˜é¢œè‰²
            const isDark = currentTheme === 'dark';
            const axesColor = isDark ? '#e0e0e0' : '#333';
            
            // ç»˜åˆ¶3Dåæ ‡ç³»
            ctx.strokeStyle = axesColor;
            ctx.lineWidth = 2;
            
            // xè½´
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + 150, centerY);
            ctx.stroke();
            
            // yè½´
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX, centerY - 150);
            ctx.stroke();
            
            // zè½´ï¼ˆæ–œå‘ï¼‰
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX - 75, centerY - 75);
            ctx.stroke();
            
            // æ·»åŠ è½´æ ‡ç­¾
            ctx.fillStyle = axesColor;
            ctx.font = '14px Arial';
            ctx.fillText('x', centerX + 160, centerY);
            ctx.fillText('y', centerX, centerY - 160);
            ctx.fillText('z', centerX - 85, centerY - 85);
        }

        function showLinearIndependent() {
            const canvas = document.getElementById('linearDepCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            drawLinearDepCanvas();
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // ç»˜åˆ¶ä¸‰ä¸ªçº¿æ€§æ— å…³çš„å‘é‡ï¼ˆä¸å…±é¢ï¼‰
            drawVector3D(ctx, centerX, centerY, 100, 0, 0, '#667eea', 'vâ‚');
            drawVector3D(ctx, centerX, centerY, 0, 100, 0, '#ff6b6b', 'vâ‚‚');
            drawVector3D(ctx, centerX, centerY, 50, 50, 80, '#28a745', 'vâ‚ƒ');
            
            // æ·»åŠ è¯´æ˜
            ctx.fillStyle = currentTheme === 'dark' ? '#e0e0e0' : '#333';
            ctx.font = '16px Arial';
            ctx.fillText('çº¿æ€§æ— å…³ï¼šä¸‰ä¸ªå‘é‡ä¸å…±é¢', centerX - 100, 30);
        }

        function showLinearDependent() {
            const canvas = document.getElementById('linearDepCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            drawLinearDepCanvas();
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // ç»˜åˆ¶ä¸‰ä¸ªçº¿æ€§ç›¸å…³çš„å‘é‡ï¼ˆå…±é¢ï¼‰
            drawVector3D(ctx, centerX, centerY, 100, 0, 0, '#667eea', 'vâ‚');
            drawVector3D(ctx, centerX, centerY, 0, 100, 0, '#ff6b6b', 'vâ‚‚');
            drawVector3D(ctx, centerX, centerY, 50, 50, 0, '#ffc107', 'vâ‚ƒ = 0.5vâ‚ + 0.5vâ‚‚');
            
            // ç»˜åˆ¶å¹³é¢
            ctx.fillStyle = 'rgba(102, 126, 234, 0.1)';
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + 100, centerY);
            ctx.lineTo(centerX + 100, centerY - 100);
            ctx.lineTo(centerX, centerY - 100);
            ctx.closePath();
            ctx.fill();
            
            // æ·»åŠ è¯´æ˜
            ctx.fillStyle = currentTheme === 'dark' ? '#e0e0e0' : '#333';
            ctx.font = '16px Arial';
            ctx.fillText('çº¿æ€§ç›¸å…³ï¼šä¸‰ä¸ªå‘é‡å…±é¢', centerX - 100, 30);
        }

        function drawVector3D(ctx, startX, startY, dx, dy, dz, color, label) {
            // è½¬æ¢3Dåæ ‡åˆ°2Dï¼ˆç®€å•æŠ•å½±ï¼‰
            const x2d = startX + dx - dz * 0.5;
            const y2d = startY - dy - dz * 0.5;
            
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 3;
            
            ctx.beginPath();
            ctx.moveTo(startX, startY);
            ctx.lineTo(x2d, y2d);
            ctx.stroke();
            
            // ç»˜åˆ¶ç®­å¤´
            const angle = Math.atan2(startY - y2d, x2d - startX);
            const arrowLength = 10;
            ctx.beginPath();
            ctx.moveTo(x2d, y2d);
            ctx.lineTo(
                x2d - arrowLength * Math.cos(angle - Math.PI / 6),
                y2d + arrowLength * Math.sin(angle - Math.PI / 6)
            );
            ctx.lineTo(
                x2d - arrowLength * Math.cos(angle + Math.PI / 6),
                y2d + arrowLength * Math.sin(angle + Math.PI / 6)
            );
            ctx.closePath();
            ctx.fill();
            
            // æ·»åŠ æ ‡ç­¾
            ctx.font = '14px Arial';
            ctx.fillText(label, x2d + 10, y2d);
        }

        // ç»˜åˆ¶çº¿æ€§è§„åˆ’å›¾
        function drawLPCanvas() {
            const canvas = document.getElementById('lpCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const scale = 4;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            // è·å–ä¸»é¢˜é¢œè‰²
            const isDark = currentTheme === 'dark';
            const axesColor = isDark ? '#e0e0e0' : '#333';
            
            // ç»˜åˆ¶åæ ‡è½´
            ctx.strokeStyle = axesColor;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(margin, height - margin);
            ctx.lineTo(width - margin, height - margin);
            ctx.moveTo(margin, height - margin);
            ctx.lineTo(margin, margin);
            ctx.stroke();
            
            // æ·»åŠ åˆ»åº¦
            ctx.fillStyle = axesColor;
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            for (let i = 0; i <= 50; i += 10) {
                const x = margin + i * scale;
                ctx.beginPath();
                ctx.moveTo(x, height - margin);
                ctx.lineTo(x, height - margin + 5);
                ctx.stroke();
                ctx.fillText(i, x, height - margin + 20);
            }
            
            ctx.textAlign = 'right';
            for (let i = 0; i <= 50; i += 10) {
                const y = height - margin - i * scale;
                ctx.beginPath();
                ctx.moveTo(margin, y);
                ctx.lineTo(margin - 5, y);
                ctx.stroke();
                ctx.fillText(i, margin - 10, y + 5);
            }
            
            // ç»˜åˆ¶çº¦æŸæ¡ä»¶
            ctx.lineWidth = 2;
            
            // 2x + 3y â‰¤ 100
            ctx.strokeStyle = '#667eea';
            ctx.beginPath();
            ctx.moveTo(margin, height - margin - 100/3 * scale);
            ctx.lineTo(margin + 50 * scale, height - margin);
            ctx.stroke();
            
            // 3x + 2y â‰¤ 90
            ctx.strokeStyle = '#ff6b6b';
            ctx.beginPath();
            ctx.moveTo(margin, height - margin - 45 * scale);
            ctx.lineTo(margin + 30 * scale, height - margin);
            ctx.stroke();
            
            // x + y â‰¤ 35
            ctx.strokeStyle = '#28a745';
            ctx.beginPath();
            ctx.moveTo(margin, height - margin - 35 * scale);
            ctx.lineTo(margin + 35 * scale, height - margin);
            ctx.stroke();
            
            // ç»˜åˆ¶å¯è¡ŒåŸŸ
            ctx.fillStyle = 'rgba(102, 126, 234, 0.2)';
            ctx.beginPath();
            ctx.moveTo(margin, height - margin);
            ctx.lineTo(margin, height - margin - 35 * scale);
            ctx.lineTo(margin + 10 * scale, height - margin - 25 * scale);
            ctx.lineTo(margin + 20 * scale, height - margin - 15 * scale);
            ctx.lineTo(margin + 30 * scale, height - margin);
            ctx.closePath();
            ctx.fill();
            
            // æ ‡è®°æœ€ä¼˜è§£
            const optX = 20 * scale + margin;
            const optY = height - margin - 15 * scale;
            ctx.fillStyle = '#dc3545';
            ctx.beginPath();
            ctx.arc(optX, optY, 5, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillText('æœ€ä¼˜è§£(20, 15)', optX + 10, optY - 10);
            
            // æ·»åŠ å›¾ä¾‹
            ctx.font = '14px Arial';
            ctx.textAlign = 'left';
            const legendX = width - 200;
            const legendY = 50;
            
            ctx.fillStyle = '#667eea';
            ctx.fillRect(legendX, legendY, 20, 3);
            ctx.fillStyle = axesColor;
            ctx.fillText('2x + 3y â‰¤ 100', legendX + 30, legendY + 5);
            
            ctx.fillStyle = '#ff6b6b';
            ctx.fillRect(legendX, legendY + 20, 20, 3);
            ctx.fillStyle = axesColor;
            ctx.fillText('3x + 2y â‰¤ 90', legendX + 30, legendY + 25);
            
            ctx.fillStyle = '#28a745';
            ctx.fillRect(legendX, legendY + 40, 20, 3);
            ctx.fillStyle = axesColor;
            ctx.fillText('x + y â‰¤ 35', legendX + 30, legendY + 45);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            
            // åˆå§‹åŒ–MathJax
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise();
            }
            
            // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªç« èŠ‚çš„å¯è§†åŒ–
            drawEquationGraphs();
        });
    </script>
</body>
</html>